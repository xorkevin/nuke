$card-padding: 8px;
$card-padding-h: 20px;

.card {
  box-shadow: $shadow-box;
  border-radius: 4px;
  max-width: 100%;
  height: 100%;

  &.center {
    margin: auto;
  }

  &.accent {
    border-top: 6px solid $color-accent;
  }

  & > *:first-child {
    border-top-left-radius: 4px;
    border-top-right-radius: 4px;

    & > *:first-child {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }

    &:before {
      border-top-left-radius: 4px;
      border-top-right-radius: 4px;
    }
  }

  & > *:last-child {
    border-bottom-left-radius: 4px;
    border-bottom-right-radius: 4px;

    &:before {
      border-bottom-left-radius: 4px;
      border-bottom-right-radius: 4px;
    }
  }

  & > .title {
    .card-title-image {
      border-radius: inherit;
    }

    .title-inner {
      height: 100%;
      width: 100%;
      max-width: 100%;
      padding: $card-padding $card-padding-h;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      color: $color-text-light-1;

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-weight: 400;
        text-shadow: $shadow-text;
        margin: 0;
      }

      button {
        color: $color-text-light-1;
      }
    }
  }

  & > .title-bar {
    & > .title-inner {
      padding: $card-padding $card-padding-h;
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      background-color: $color-back-light-1;

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        margin: 0;
      }

      button {
        margin-top: 0.5rem;
        margin-bottom: 0.5rem;
      }
    }
  }

  & > .body,
  & > .bar {
    padding: $card-padding $card-padding-h;
    background-color: $color-back-light-1;
    color: $color-text-dark-1-5;
  }

  & > .body {
    text-overflow: ellipsis;
    position: relative;
    font-size: 1rem;

    &:before {
      content: '';
      width: 100%;
      height: 100%;
      position: absolute;
      left: 0;
      top: 0;
      background: linear-gradient(
        transparent calc(100% - 1em),
        rgba($color-back-light-1, 0.7)
      );
      pointer-events: none;
    }
  }

  & > .bar {
    border: 1px $color-text-dark-4;
    border-style: solid none none none;
  }

  &.sm {
    & > .title {
      height: $card-sm-size * 2 / 3;
    }
  }

  &.md {
    & > .title {
      height: $card-md-size * 2 / 3;
    }
  }

  &.lg {
    & > .title {
      height: $card-lg-size * 2 / 3;
    }
  }

  &.restrict-height {
    &.sm {
      & > .body {
        overflow: hidden;
        max-height: $card-sm-size / 3;
      }
    }

    &.md {
      & > .body {
        overflow: hidden;
        max-height: $card-md-size / 3;
      }
    }

    &.lg {
      & > .body {
        overflow: hidden;
        max-height: $card-lg-size / 3;
      }
    }
  }

  &.restrict-width {
    &.sm {
      width: $card-sm-size;
    }

    &.md {
      width: $card-md-size;
    }

    &.lg {
      width: $card-lg-size;
    }
  }
}

body.dark {
  .card {
    &.accent {
      border-color: $color-accent;
    }

    & > .title {
      .title-inner {
        color: $color-text-light-1;

        button {
          color: $color-text-light-1;
        }
      }
    }

    & > .title-bar {
      & > .title-inner {
        background-color: $color-back-base-dark-2;
      }
    }

    & > .body,
    & > .bar {
      background-color: $color-back-base-dark-2;
      color: $color-text-light-2;
    }

    & > .body {
      &:before {
        background: linear-gradient(
          transparent calc(100% - 1em),
          rgba($color-back-base-dark-2, 0.7)
        );
      }
    }

    & > .bar {
      border-color: $color-text-light-4;
    }
  }
}
